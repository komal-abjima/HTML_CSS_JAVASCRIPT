<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Book Store App</title>
    <link rel="icon" type="image/x-icon" href="img/bg1.jpg">
</head>

<body style=" background-image: url(img/bg.jpg);
    background-repeat: no-repeat;
    background-size: cover">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="index.html">BOOK STORE</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#">Add New Book</span></a>
                </li>
                <!-- <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Dropdown
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li> -->

            </ul>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>

        </div>
    </nav>


    <div class="container" style="margin-top: 109px; margin-left: 535px;">
        <form class=" form needs-validation" novalidate>
            <div class="form-row">
                <div class="col-md-4 mb-3">
                    <label for="validationCustom01">Author ID</label>
                    <input type="text" class="form-control" name="author_id" id="author_id"
                        placeholder="Enter Author ID" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="validationCustom01">Book Name</label>
                    <input type="text" class="form-control" name="title" id="title" placeholder="Enter Book Name"
                        required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="validationCustom01">Cover Image</label>
                    <input type="file" id="cover_image" name="cover_image">
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="validationCustom02">Total Pages in a book</label>
                    <input type="number" class="form-control" id="pages" name="pages"
                        placeholder="Enter Total Book Pages" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="validationCustom02">Release Date Year</label>
                    <input type="text" class="form-control" id="pages" name="releaseDate"
                        placeholder="Enter Release Date Year" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>

            </div>
            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <label for="validationCustom03">ISBN</label>
                    <input type="text" class="form-control" id="validationCustom03" name="isbn"
                        placeholder="Enter ISBN " required>
                    <div class="invalid-feedback">
                        Please add in a range
                    </div>
                </div>


            </div>

            <button class="btn btn-primary" type="submit">Add Book</button>
        </form>
    </div>
    <div id="results">

    </div>

    <script>



        const formEl = document.querySelector('.form');

        formEl.addEventListener('submit', event => {

            event.preventDefault();

            const formData = new FormData(formEl);
            const data = Object.fromEntries(formData);

            //console.log(data);

            fetch('https://my-json-server.typicode.com/dmitrijt9/book-api-mock/books', {
                method: 'POST',
                body: JSON.stringify(data),
                // body: JSON.stringify({
                //     username: data.username,
                //     termsconditions2: data.termsconditions2
                // }


                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            }).then(res => res.json())
                .then(data => console.log(data))
                .catch(error => console.log(error))

            let results = document.getElementById('results')
            results.innerHTML = `
        <h2 style ="color: purple; text-align: center; font-size:500">NEW ADDED BOOK LIST</h2>
        <table class="table table-bordered" id="table-scroll" style = "background-color: white; width: 50%; margin-left: 296px";
}>
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Author ID</th>
      <th scope="col">Book Name</th>
      <th scope="col">Cover Image</th>
      <th scope="col">Total Pages</th>
      <th scope="col">Release Year</th>
      <th scope="col">ISBN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      
      <td>${data.id}</td> 
      <td>${data.author_id}</td>
      <td>${data.title}</td>
      <td>${data.cover_image}</td>
      <td>${data.pages}</td>
      <td>${data.releaseDate}</td>
      <td>${data.isbn}</td>
    </tr>
    
  </tbody>
</table>`



        })
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>